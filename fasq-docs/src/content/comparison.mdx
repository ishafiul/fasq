# Comparison

How does Fasq compare to other state management solutions?

## vs Vanilla Flutter (setState)

**Vanilla:**
- Manual boolean flags for `isLoading`, `hasError`.
- No caching (refetches on every build/init).
- Difficult to share state between widgets.
- Boilerplate heavy (`FutureBuilder` or custom `initState` logic).

**Fasq:**
- Automatic states (`isLoading`, `isFetching`, `hasData`).
- Intelligent caching & background refetching.
- Shared state via `queryKey`.
- Declarative API.

## vs Provider / Riverpod / Bloc

Fasq is **not** a replacement for these global state managers. It is a specialized tool for **Server State**.

### Client State vs. Server State

- **Client State**: UI state, form inputs, settings, theme. (Use Provider/Bloc/Riverpod)
- **Server State**: API responses, database queries. (Use Fasq)

**Without Fasq:**
You manually store API data in your Bloc/Provider. You have to write logic for "if cached, don't fetch", "pull to refresh", "retry on error", etc.

**With Fasq:**
You delegate server state to Fasq, and use your preferred state manager for the rest of the app.

### Integration

Fasq works alongside your existing stack.

- **Fasq + Provider**: Keep `UserProvider` for user session, use Fasq for fetching the user profile API.
- **Fasq + Bloc**: Use Bloc for complex business flows (e.g. checkout state machine), use Fasq for fetching the product list.

## vs React Query (TanStack Query)

Fasq is heavily inspired by React Query. If you come from the React world, you'll feel right at home.

- **Similarities**: `QueryKey`, `staleTime`, `cacheTime`, `invalidate`, Deduplication.
- **Differences**: Built for Dart/Flutter. Uses `Stream`-based architecture internally. Provides first-class Widgets (`QueryBuilder`) instead of just hooks.

## Feature Matrix

| Feature | Vanilla | Standard State Managers | Fasq |
|---------|---------|-------------------------|------|
| **Boilerplate** | High | Medium | **Low** |
| **Caching** | Manual | Manual | **Automatic** |
| **Refetch on Focus** | Manual | Manual | **Automatic** |
| **Deduplication** | Manual | Manual | **Automatic** |
| **Architecture** | Ad-hoc | Global Stores | **Key-based Cache** |
| **Pagination** | Manual | Manual | **Built-in** |
